$(function() {

var datasets = {

	"All": {
		label: "All",
		data: [[ 24 , 0 ], [ 48 , 0 ], [ 72 , 0 ], [ 96 , 0 ], [ 120 , 0 ], [ 144 , 0 ], [ 168 , 0 ], [ 192 , 0 ], [ 216 , 0 ], [ 240 , 0 ], [ 264 , 0 ], [ 288 , 0 ], [ 312 , 0 ], [ 336 , 0 ], [ 360 , 0 ], [ 384 , 0 ], [ 408 , 0 ], [ 432 , 0 ], [ 456 , 0 ], [ 480 , 0 ], [ 504 , 0 ], [ 528 , 0 ], [ 552 , 0 ], [ 576 , 0 ], [ 600 , 0 ], [ 624 , 0 ], [ 648 , 0 ], [ 672 , 0 ], [ 696 , 0 ], [ 720 , 0 ], [ 744 , 0 ], [ 768 , 0 ], [ 792 , 0 ], [ 816 , 0 ], [ 840 , 0 ], [ 864 , 0 ], [ 888 , 0 ], [ 912 , 0 ], [ 936 , 0 ], [ 960 , 0 ], [ 984 , 0 ], [ 1008 , 0 ], [ 1032 , 0 ], [ 1056 , 0 ], [ 1080 , 0 ], [ 1104 , 0 ], [ 1128 , 0 ], [ 1152 , 0 ], [ 1176 , 0 ], [ 1200 , 0 ], [ 1224 , 0 ], [ 1248 , 0 ], [ 1272 , 0 ], [ 1296 , 0 ], [ 1320 , 0 ], [ 1344 , 0 ], [ 1368 , 0 ], [ 1392 , 0 ], [ 1416 , 0 ], [ 1440 , 0 ], [ 1464 , 0 ], [ 1488 , 0 ], [ 1512 , 0 ], [ 1536 , 25 ], [ 1560 , 3 ], [ 1584 , 16 ], [ 1608 , 20 ], [ 1632 , 18 ], [ 1656 , 16 ], [ 1680 , 17 ], [ 1704 , 20 ], [ 1728 , 21 ], [ 1752 , 22 ], [ 1776 , 20 ], [ 1800 , 20 ], [ 1824 , 14 ], [ 1848 , 17 ], [ 1872 , 14 ], [ 1896 , 11 ], [ 1920 , 0 ], [ 1944 , 0 ], [ 1968 , 0 ], [ 1992 , 0 ], [ 2016 , 0 ], [ 2040 , 0 ], [ 2064 , 0 ], [ 2088 , 0 ], [ 2112 , 0 ], [ 2136 , 0 ], [ 2160 , 0 ], [ 2184 , 0 ], [ 2208 , 0 ], [ 2232 , 0 ], [ 2256 , 0 ], [ 2280 , 0 ], [ 2304 , 0 ], [ 2328 , 0 ], [ 2352 , 0 ], [ 2376 , 0 ], [ 2400 , 0 ], [ 2424 , 0 ], [ 2448 , 0 ], [ 2472 , 0 ], [ 2496 , 0 ], [ 2520 , 0 ], [ 2544 , 0 ], [ 2568 , 0 ], [ 2592 , 0 ], [ 2616 , 0 ], [ 2640 , 0 ], [ 2664 , 0 ], [ 2688 , 0 ], [ 2712 , 0 ], [ 2736 , 0 ], [ 2760 , 0 ], [ 2784 , 0 ], [ 2808 , 0 ], [ 2832 , 0 ], [ 2856 , 0 ], [ 2880 , 0 ], [ 2904 , 0 ], [ 2928 , 0 ], [ 2952 , 0 ], [ 2976 , 0 ], [ 3000 , 0 ], [ 3024 , 0 ], [ 3048 , 0 ], [ 3072 , 0 ], [ 3096 , 0 ], [ 3120 , 0 ], [ 3144 , 0 ], [ 3168 , 0 ], [ 3192 , 0 ], [ 3216 , 0 ], [ 3240 , 0 ], [ 3264 , 0 ], [ 3288 , 0 ], [ 3312 , 0 ], [ 3336 , 0 ], [ 3360 , 0 ], [ 3384 , 0 ], [ 3408 , 0 ], [ 3432 , 0 ], [ 3456 , 0 ], [ 3480 , 0 ], [ 3504 , 0 ], [ 3528 , 0 ], [ 3552 , 0 ], [ 3576 , 0 ], [ 3600 , 0 ], [ 3624 , 0 ], [ 3648 , 0 ], [ 3672 , 0 ], [ 3696 , 0 ], [ 3720 , 0 ], [ 3744 , 0 ], [ 3768 , 0 ], [ 3792 , 0 ], [ 3816 , 0 ], [ 3840 , 0 ], [ 3864 , 0 ], [ 3888 , 0 ], [ 3912 , 0 ], [ 3936 , 0 ], [ 3960 , 0 ], [ 3984 , 0 ], [ 4008 , 0 ], [ 4032 , 0 ], [ 4056 , 0 ], [ 4080 , 0 ], [ 4104 , 0 ], [ 4128 , 0 ], [ 4152 , 0 ], [ 4176 , 0 ], [ 4200 , 0 ], [ 4224 , 0 ], [ 4248 , 0 ], [ 4272 , 0 ], [ 4296 , 0 ], [ 4320 , 0 ], [ 4344 , 0 ], [ 4368 , 0 ], [ 4392 , 0 ], [ 4416 , 0 ], [ 4440 , 0 ], [ 4464 , 0 ], [ 4488 , 0 ], [ 4512 , 0 ], [ 4536 , 0 ], [ 4560 , 0 ], [ 4584 , 0 ], [ 4608 , 0 ], [ 4632 , 0 ], [ 4656 , 0 ], [ 4680 , 0 ], [ 4704 , 0 ], [ 4728 , 0 ], [ 4752 , 0 ], [ 4776 , 0 ], [ 4800 , 0 ], [ 4824 , 0 ], [ 4848 , 0 ], [ 4872 , 0 ], [ 4896 , 0 ], [ 4920 , 0 ], [ 4944 , 0 ], [ 4968 , 0 ], [ 4992 , 0 ], [ 5016 , 0 ], [ 5040 , 0 ], [ 5064 , 0 ], [ 5088 , 0 ], [ 5112 , 0 ], [ 5136 , 0 ], [ 5160 , 0 ], [ 5184 , 0 ], [ 5208 , 0 ], [ 5232 , 0 ], [ 5256 , 0 ], [ 5280 , 0 ], [ 5304 , 0 ], [ 5328 , 0 ], [ 5352 , 0 ], [ 5376 , 0 ], [ 5400 , 0 ], [ 5424 , 0 ], [ 5448 , 0 ], [ 5472 , 0 ], [ 5496 , 0 ], [ 5520 , 0 ], [ 5544 , 0 ], [ 5568 , 0 ], [ 5592 , 0 ], [ 5616 , 0 ], [ 5640 , 0 ], [ 5664 , 0 ], [ 5688 , 0 ], [ 5712 , 0 ], [ 5736 , 0 ], [ 5760 , 0 ], [ 5784 , 0 ], [ 5808 , 0 ], [ 5832 , 0 ], [ 5856 , 0 ], [ 5880 , 0 ], [ 5904 , 0 ], [ 5928 , 0 ], [ 5952 , 0 ], [ 5976 , 0 ], [ 6000 , 0 ], [ 6024 , 0 ], [ 6048 , 0 ], [ 6072 , 0 ], [ 6096 , 0 ], [ 6120 , 0 ], [ 6144 , 0 ], [ 6168 , 0 ], [ 6192 , 0 ], [ 6216 , 0 ], [ 6240 , 0 ], [ 6264 , 0 ], [ 6288 , 0 ], [ 6312 , 0 ], [ 6336 , 0 ], [ 6360 , 0 ], [ 6384 , 0 ], [ 6408 , 0 ], [ 6432 , 0 ], [ 6456 , 0 ], [ 6480 , 0 ], [ 6504 , 0 ], [ 6528 , 0 ], [ 6552 , 0 ], [ 6576 , 0 ], [ 6600 , 0 ], [ 6624 , 0 ], [ 6648 , 0 ], [ 6672 , 0 ], [ 6696 , 0 ], [ 6720 , 0 ], [ 6744 , 0 ], [ 6768 , 0 ], [ 6792 , 0 ], [ 6816 , 0 ], [ 6840 , 0 ], [ 6864 , 0 ], [ 6888 , 0 ], [ 6912 , 0 ], [ 6936 , 0 ], [ 6960 , 0 ], [ 6984 , 0 ], [ 7008 , 0 ], [ 7032 , 0 ], [ 7056 , 0 ], [ 7080 , 0 ], [ 7104 , 0 ], [ 7128 , 0 ], [ 7152 , 0 ], [ 7176 , 0 ], [ 7200 , 0 ], [ 7224 , 0 ], [ 7248 , 0 ], [ 7272 , 0 ], [ 7296 , 0 ], [ 7320 , 0 ], [ 7344 , 0 ], [ 7368 , 0 ], [ 7392 , 0 ], [ 7416 , 0 ], [ 7440 , 0 ], [ 7464 , 0 ], [ 7488 , 0 ], [ 7512 , 0 ], [ 7536 , 0 ], [ 7560 , 0 ], [ 7584 , 0 ], [ 7608 , 0 ], [ 7632 , 0 ], [ 7656 , 0 ], [ 7680 , 0 ], [ 7704 , 0 ], [ 7728 , 0 ], [ 7752 , 0 ], [ 7776 , 0 ], [ 7800 , 0 ], [ 7824 , 0 ], [ 7848 , 0 ], [ 7872 , 0 ], [ 7896 , 0 ], [ 7920 , 0 ], [ 7944 , 0 ], [ 7968 , 0 ], [ 7992 , 0 ], [ 8016 , 0 ], [ 8040 , 0 ], [ 8064 , 0 ], [ 8088 , 0 ], [ 8112 , 0 ], [ 8136 , 0 ], [ 8160 , 0 ], [ 8184 , 0 ], [ 8208 , 0 ], [ 8232 , 0 ], [ 8256 , 0 ], [ 8280 , 0 ], [ 8304 , 0 ], [ 8328 , 0 ], [ 8352 , 0 ], [ 8376 , 0 ], [ 8400 , 0 ], [ 8424 , 0 ], [ 8448 , 0 ], [ 8472 , 0 ], [ 8496 , 0 ], [ 8520 , 0 ], [ 8544 , 0 ], [ 8568 , 0 ], [ 8592 , 0 ], [ 8616 , 0 ], [ 8640 , 0 ], [ 8664 , 0 ], [ 8688 , 0 ], [ 8712 , 0 ], [ 8736 , 0 ], [ 8760 , 0 ], [ 8784 , 0 ], [ 8808 , 0 ], [ 8832 , 0 ], [ 8856 , 0 ], [ 8880 , 0 ], [ 8904 , 0 ], [ 8928 , 0 ]]
		},
			
	"usa": {
		label: "USA",
		data: [[1988, 483994], [1989, 479060], [1990, 457648], [1991, 401949], [1992, 424705], [1993, 402375], [1994, 377867], [1995, 357382], [1996, 337946], [1997, 336185], [1998, 328611], [1999, 329421], [2000, 342172], [2001, 344932], [2002, 387303], [2003, 440813], [2004, 480451], [2005, 504638], [2006, 528692]]
	},        
	"russia": {
		label: "Russia",
		data: [[1988, 218000], [1989, 203000], [1990, 171000], [1992, 42500], [1993, 37600], [1994, 36600], [1995, 21700], [1996, 19200], [1997, 21300], [1998, 13600], [1999, 14000], [2000, 19100], [2001, 21300], [2002, 23600], [2003, 25100], [2004, 26100], [2005, 31100], [2006, 34700]]
	},
};

		var d1 = [];
		for (var i = 0; i < 14; i += 0.5) {
			d1.push([i, Math.sin(i)]);
		}
		var d2 = [[0, 3], [4, 8], [8, 5], [9, 13]];
		var d3 = [[0, 12], [7, 12], null, [7, 2.5], [12, 2.5]];
		//$.plot("#placeholder", [ d1, d2, d4, d5 ]);		


		var i = 0;
		$.each(datasets, function(key, val) {
			val.color = i;
			++i;
		});

		// insert checkboxes 
		var choiceContainer = $("#choices");
		$.each(datasets, function(key, val) {
			choiceContainer.append("<br/><input type='checkbox' name='" + key +
				"' checked='checked' id='id" + key + "'></input>" +
				"<label for='id" + key + "'>"
				+ val.label + "</label>");
		});

		choiceContainer.find("input").click(plotAccordingToChoices);

		function plotAccordingToChoices() {

			var data = [];

			choiceContainer.find("input:checked").each(function () {
				var key = $(this).attr("name");
				if (key && datasets[key]) {
					data.push(datasets[key]);
				}
			});

			if (data.length > 0) {
				$.plot("#placeholder", data, {
					yaxis: {
						min: 0
					},
					xaxis: {
						tickDecimals: 0
					}
				});
			}
		}

		plotAccordingToChoices();

});


<html>
	

</html>